# deployment.yml
# ----------------------------------------------------------------------------
# OpenShift deployment descriptor generated by OpenShift web console
# ----------------------------------------------------------------------------
# @author  mtheis
# @version 1.0
# ----------------------------------------------------------------------------
# 
apiVersion: v1
kind: ReplicationController
metadata:
  annotations:
    kubectl.kubernetes.io/desired-replicas: '1'
    kubectl.kubernetes.io/update-source-id: 'cna-spring-first-1:a9c26a16-507c-11e8-a094-06579ed29230'
    openshift.io/deployer-pod.completed-at: '2018-05-05 16:01:34 +0000 UTC'
    openshift.io/deployer-pod.created-at: '2018-05-05 15:58:17 +0000 UTC'
    openshift.io/deployer-pod.name: cna-spring-first-2-deploy
    openshift.io/deployment-config.latest-version: '2'
    openshift.io/deployment-config.name: cna-spring-first
    openshift.io/deployment.cancelled: 'true'
    openshift.io/deployment.phase: Failed
    openshift.io/deployment.replicas: '0'
    openshift.io/deployment.status-reason: The deployment was cancelled by the user
    openshift.io/encoded-deployment-config: >
      {"kind":"DeploymentConfig","apiVersion":"v1","metadata":{"name":"cna-spring-first","namespace":"hm-fwp-cna-development","selfLink":"/apis/apps.openshift.io/v1/namespaces/hm-fwp-cna-development/deploymentconfigs/cna-spring-first","uid":"a981c229-507c-11e8-a094-06579ed29230","resourceVersion":"889755465","generation":3,"creationTimestamp":"2018-05-05T15:54:58Z","labels":{"app":"cna-spring-first"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"strategy":{"type":"Rolling","rollingParams":{"updatePeriodSeconds":1,"intervalSeconds":1,"timeoutSeconds":600,"maxUnavailable":"25%","maxSurge":"25%"},"resources":{},"activeDeadlineSeconds":21600},"triggers":[{"type":"ConfigChange"},{"type":"ImageChange","imageChangeParams":{"automatic":true,"containerNames":["cna-spring-first"],"from":{"kind":"ImageStreamTag","namespace":"hm-fwp-cna-development","name":"cna-spring-first:0.9.0"},"lastTriggeredImage":"hmfwpcna/cna-spring-first@sha256:60727b203ec4625f52eca65df0f779c971b3e8d105658bc8c4d5e0ed114ba906"}}],"replicas":1,"revisionHistoryLimit":10,"test":false,"selector":{"app":"cna-spring-first","deploymentconfig":"cna-spring-first"},"template":{"metadata":{"creationTimestamp":null,"labels":{"app":"cna-spring-first","deploymentconfig":"cna-spring-first"},"annotations":{"openshift.io/generated-by":"OpenShiftNewApp"}},"spec":{"containers":[{"name":"cna-spring-first","image":"hmfwpcna/cna-spring-first@sha256:60727b203ec4625f52eca65df0f779c971b3e8d105658bc8c4d5e0ed114ba906","ports":[{"containerPort":8080,"protocol":"TCP"}],"env":[{"name":"SPRING_DATASOURCE_URL","value":"jdbc:postgresql://postgres-first/db_first"},{"name":"SPRING_DATASOURCE_USER","valueFrom":{"secretKeyRef":{"name":"postgresql-spring-first","key":"database-user"}}},{"name":"SPRING_DATASOURCE_PASSWORD","valueFrom":{"secretKeyRef":{"name":"postgresql-spring-first","key":"database-password"}}}],"resources":{},"terminationMessagePath":"/dev/termination-log","terminationMessagePolicy":"File","imagePullPolicy":"IfNotPresent"}],"restartPolicy":"Always","terminationGracePeriodSeconds":30,"dnsPolicy":"ClusterFirst","securityContext":{},"schedulerName":"default-scheduler"}}},"status":{"latestVersion":2,"observedGeneration":2,"replicas":1,"updatedReplicas":1,"availableReplicas":0,"unavailableReplicas":1,"details":{"message":"config
      change","causes":[{"type":"ConfigChange"}]},"conditions":[{"type":"Progressing","status":"True","lastUpdateTime":"2018-05-05T15:55:17Z","lastTransitionTime":"2018-05-05T15:55:03Z","reason":"NewReplicationControllerAvailable","message":"replication
      controller \"cna-spring-first-1\" successfully rolled
      out"},{"type":"Available","status":"False","lastUpdateTime":"2018-05-05T15:57:43Z","lastTransitionTime":"2018-05-05T15:57:43Z","message":"Deployment
      config does not have minimum availability."}]}}
  creationTimestamp: '2018-05-05T15:58:17Z'
  generation: 3
  labels:
    app: cna-spring-first
    openshift.io/deployment-config.name: cna-spring-first
  name: cna-spring-first-2
  namespace: hm-fwp-cna-development
  ownerReferences:
    - apiVersion: apps.openshift.io/v1
      blockOwnerDeletion: true
      controller: true
      kind: DeploymentConfig
      name: cna-spring-first
      uid: a981c229-507c-11e8-a094-06579ed29230
  resourceVersion: '889759983'
  selfLink: >-
    /api/v1/namespaces/hm-fwp-cna-development/replicationcontrollers/cna-spring-first-2
  uid: 1ff02183-507d-11e8-a094-06579ed29230
spec:
  replicas: 0
  selector:
    app: cna-spring-first
    deployment: cna-spring-first-2
    deploymentconfig: cna-spring-first
  template:
    metadata:
      annotations:
        openshift.io/deployment-config.latest-version: '2'
        openshift.io/deployment-config.name: cna-spring-first
        openshift.io/deployment.name: cna-spring-first-2
        openshift.io/generated-by: OpenShiftNewApp
      creationTimestamp: null
      labels:
        app: cna-spring-first
        deployment: cna-spring-first-2
        deploymentconfig: cna-spring-first
    spec:
      containers:
        - env:
            - name: SPRING_DATASOURCE_URL
              value: 'jdbc:postgresql://postgresql-spring-first.hm-fwp-cna-development.svc/db_first'
            - name: SPRING_DATASOURCE_USER
              valueFrom:
                secretKeyRef:
                  key: database-user
                  name: postgresql-spring-first
            - name: SPRING_DATASOURCE_PASSWORD
              valueFrom:
                secretKeyRef:
                  key: database-password
                  name: postgresql-spring-first
          image: >-
            hmfwpcna/cna-spring-first@sha256:60727b203ec4625f52eca65df0f779c971b3e8d105658bc8c4d5e0ed114ba906
          imagePullPolicy: IfNotPresent
          name: cna-spring-first
          ports:
            - containerPort: 8080
              protocol: TCP
          resources: {}
          terminationMessagePath: /dev/termination-log
          terminationMessagePolicy: File
      dnsPolicy: ClusterFirst
      restartPolicy: Always
      schedulerName: default-scheduler
      securityContext: {}
      terminationGracePeriodSeconds: 30
status:
  observedGeneration: 3
  replicas: 0
